<h1>Room Create</h1>

<div class="col-md-8">
    <form class="form-horizontal" name="roomCreateForm" role="form" ng-submit="save()" novalidate >
        <div class="form-group">
            <label class="col-md-4 control-label">Company</label>
            <div class="col-md-4">
                <select class="form-control"
                        name="companyName"
                        ng-model="company.selected"
                        ng-options="company.name for company in companies | orderBy:'name' | filter:currentUser.companyId"
                        ng-change="setCompanyId(company.selected.companyId)"
                        required>
                    <option value="">Select company</option>
                </select>
            </div>
            <div class="error" ng-messages="roomCreateForm.companyName.$error" ng-if="roomCreateForm.companyName.$touched" >
                <p ng-message="required">Company name is required.</p>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label">Department</label>
            <div class="col-md-4">
                <select class="form-control"
                        name="departmentName"
                        ng-model="department.selected"
                        ng-options="department.name for department in departments | orderBy:'name'"
                        ng-change="setDepartmentId(department.selected.departmentId)"
                        ng-disabled="depDisabled"
                        required>
                    <option value="">Select department</option>
                </select>
            </div>
            <div class="error" ng-messages="roomCreateForm.departmentName.$error" ng-if="roomCreateForm.departmentName.$touched" >
                <p ng-message="required">Department name is required.</p>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label">Room number</label>
            <div class="col-md-4">
                <input type="text" class="form-control" name="number" ng-model="room.number"
                       ng-minlength = "1" ng-maxlength = "5" required />
            </div>
            <div class="error" ng-messages="roomCreateForm.number.$error" ng-if="roomCreateForm.number.$touched" >
                <p ng-message="required">Room number is required.</p>
                <p ng-message="minlength">Room number should have minimum 1 character.</p>
                <p ng-message="maxlength">Room number is longer than 5 characters.</p>
            </div>
        </div>
        <div class="form-group">
            <label class="col-md-4 control-label"></label>
            <div class="col-md-4">
                <input type="submit" value="Save" class="btn btn-primary" ng-disabled="roomCreateForm.$invalid" />
                <button type="button" class="btn btn-primary" ng-click="reset()">
                    <span class="glyphicon glyphicons-cleaning"></span> Reset
                </button>
            </div>
        </div>
    </form>
</div>
